<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>【卓越官方商城】- 卓越，为爱负责</title>
    <link rel="shortcut icon" href="img/bitbug_favicon.ico" />
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/jquery.pagination.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/proList.css">
</head>
<body>
    <div id="publicBox">
        <!-- 引入头部文件 -->
    </div>
    <div style="width:1190px; margin:0 auto;">
        <div class="clearfix">
            <p class="shaixuan-tj floatLeft clearfix">
                <span><a href="">首页</a></span>
                <i class="icon-angle-right"></i>
                <span>所有分类</span>
                <i class="icon-angle-right"></i>
            </p><br><br>
            <p class="pro_shaixuan">
                <span>商品筛选</span>
                <span id="get_pro_shaixuan">搜索到<em>1742</em>件商品</span>
            </p>
        </div>
        <div id="page-search-store" class="mb10 border sxcon">
            <div class="search-by by-category relative">
                <dl class="relative clearfix">
                    <dt class="floatLeft"><a href="">品牌</a></dt>
                    <dd class="floatLeft show-con">
                        <a href="" class="">安踏</a>
                        <a href="" class="">ANTA PLUS</a>
                        <a href="" class="">安踏儿童</a>
                    </dd>
                </dl>
                <dl class="relative clearfix">
                    <dt class="floatLeft"><a href="">大类</a></dt>
                    <dd class="floatLeft show-con">
                        <a href="" class="">鞋类</a>
                        <a href="" class="">服装</a>
                        <a href="" class="">配件</a>
                    </dd>
                </dl>
                <dl class="relative clearfix">
                    <dt class="floatLeft"><a href="">性别</a></dt>
                    <dd class="floatLeft show-con">
                        <a href="" class="">男性</a>
                        <a href="" class="">女性</a>
                        <a href="" class="">中性</a>
                    </dd>
                </dl>
                <dl class="relative clearfix">
                    <dt class="floatLeft"><a href="">类别</a></dt>
                    <dd class="floatLeft show-con">
                        <a href="" class="">跑鞋</a>
                        <a href="" class="">篮球鞋</a>
                        <a href="" class="">休闲鞋</a>
                        <a href="" class="">板鞋</a>
                        <a href="" class="">综训鞋</a>
                        <a href="" class="">足球鞋</a>
                        <a href="" class="">滑雪服</a>
                        <a href="" class="">针织外套</a>
                        <a href="" class="">梭织外套</a>
                        <a href="" class="">套头卫衣</a>
                        <a href="" class="">针织长裤</a>
                        <a href="" class="">梭织长裤</a>
                        <a href="" class="">长袖T恤</a>
                        <a href="" class="">编织衫</a>
                        <a href="" class="">针织运动套</a>
                        <a href="" class="">运动背心</a>
                        <a href="" class="">户外两件套</a>
                        <a href="" class="">篮球比赛服</a>
                        <a href="" class="">足球比赛服</a>
                        <a href="" class="">羽绒服</a>
                        <a href="" class="">棉服</a>
                        <a href="" class="">马夹</a>
                        <a href="" class="">七分裤</a>
                        <a href="" class="">五分裤</a>
                        <a href="" class="">棉鞋</a>
                        <a href="" class="">运动短裤</a>
                        <a href="" class="">短袖T恤</a>
                        <a href="" class="">POLO杉</a>
                        <a href="" class="">加大码鞋</a>
                        <a href="" class="">包类</a>
                        <a href="" class="">运动袜</a>
                        <a href="" class="">运动内裤</a>
                        <a href="" class="">篮球·足球</a>
                        <a href="" class="">运动内衣BRA</a>
                        <a href="" class="">帽子</a>
                        <a href="" class="">帆布鞋</a>
                        <a href="" class="">拖鞋·凉鞋</a>
                    </dd>
                    <dd class="floatLeft show-more"><h3 class="pointer clearfix"><span>更多</span><i class="icon-angle-down"></i></h3></dd>
                </dl>
                <dl class="relative clearfix">
                    <dt class="floatLeft"><a href="">系列</a></dt>
                    <dd class="floatLeft show-con">
                        <a href="" class="">跑步系列</a>
                        <a href="" class="">篮球系列</a>
                        <a href="" class="">生活系列</a>
                        <a href="" class="">综训系列</a>
                        <a href="" class="">足球系列</a>
                        <a href="" class="">户外系列</a>
                        <a href="" class="">网球系列</a>
                        <a href="" class="">时尚系列</a>
                        <a href="" class="">COC系列</a>
                    </dd>
                </dl>
                <dl class="relative clearfix">
                    <dt class="floatLeft"><a href="">年份</a></dt>
                    <dd class="floatLeft show-con">
                        <a href="" class="">2018</a>
                        <a href="" class="">2017</a>
                        <a href="" class="">2016</a>
                        <a href="" class="">2015</a>
                    </dd>
                </dl>
                <dl class="relative clearfix">
                    <dt class="floatLeft"><a href="">季节</a></dt>
                    <dd class="floatLeft show-con">
                        <a href="" class="">冬季</a>
                        <a href="" class="">秋季</a>
                        <a href="" class="">夏季</a>
                        <a href="" class="">春季</a>
                    </dd>
                </dl>
                <dl class="relative clearfix xianshi">
                    <dt class="floatLeft"><a href="">尺码</a></dt>
                    <dd class="floatLeft show-con">
                        <a href="" class="">35</a>
                        <a href="" class="">35.5</a>
                        <a href="" class="">36</a>
                        <a href="" class="">36.5</a>
                        <a href="" class="">37</a>
                        <a href="" class="">37.5</a>
                        <a href="" class="">38</a>
                        <a href="" class="">38.5</a>
                        <a href="" class="">39</a>
                        <a href="" class="">39.5</a>
                        <a href="" class="">40</a>
                        <a href="" class="">40.5</a>
                        <a href="" class="">41</a>
                        <a href="" class="">41.5</a>
                        <a href="" class="">42</a>
                        <a href="" class="">42.5</a>
                        <a href="" class="">43</a>
                        <a href="" class="">43.5</a>
                        <a href="" class="">44</a>
                        <a href="" class="">44.5</a>
                        <a href="" class="">45</a>
                        <a href="" class="">45.5</a>
                        <a href="" class="">46</a>
                        <a href="" class="">XS</a>
                        <a href="" class="">S</a>
                        <a href="" class="">M</a>
                        <a href="" class="">L</a>
                        <a href="" class="">XL</a>
                        <a href="" class="">2XL</a>
                        <a href="" class="">3XL</a>
                        <a href="" class="">4XL</a>
                        <a href="" class="">101</a>
                        <a href="" class="">110</a>
                        <a href="" class="">120</a>
                        <a href="" class="">130</a>
                        <a href="" class="">140</a>
                        <a href="" class="">150</a>
                        <a href="" class="">160</a>
                        <a href="" class="">165</a>
                        <a href="" class="">170</a>
                        <a href="" class="">28</a>
                        <a href="" class="">29</a>
                        <a href="" class="">30</a>
                        <a href="" class="">31</a>
                        <a href="" class="">32</a>
                        <a href="" class="">33</a>
                        <a href="" class="">34</a>
                    </dd>
                    <dd class="floatLeft show-more"><h3 class="pointer clearfix"><span>更多</span><i class="icon-angle-down"></i></h3></dd>
                </dl>
                <dl class="relative clearfix xianshi">
                    <dt class="floatLeft"><a href="">科技</a></dt>
                    <dd class="floatLeft show-con">
                        <a href="" class="">吸湿·速干</a>
                        <a href="" class="">冰肤科技</a>
                        <a href="" class="">五驱掌控</a>
                        <a href="" class="">菱极缓震</a>
                        <a href="" class="">双承缓震</a>
                        <a href="" class="">厚底缓承</a>
                        <a href="" class="">缓震弹力胶</a>
                        <a href="" class="">气垫科技</a>
                        <a href="" class="">透气呼吸网</a>
                        <a href="" class="">缓震能量环</a>
                        <a href="" class="">易弯折科技</a>
                        <a href="" class="">中底稳定支撑</a>
                        <a href="" class="">耐磨橡胶</a>
                        <a href="" class="">极钉科技</a>
                        <a href="" class="">菱足科技</a>
                        <a href="" class="">抗皱动型科技</a>
                        <a href="" class="">防泼水</a>
                        <a href="" class="">红外保暖</a>
                    </dd>
                    <dd class="floatLeft show-more"><h3 class="pointer clearfix"><span>更多</span><i class="icon-angle-down"></i></h3></dd>
                </dl>
                <dl class="relative clearfix xianshi" style="border-bottom:0;">
                    <dt class="floatLeft"><a href="">版型</a></dt>
                    <dd class="floatLeft show-con">
                        <a href="" class="">适脚鞋型</a>
                        <a href="" class="">宽松鞋型</a>
                        <a href="" class="">修长鞋型</a>
                        <a href="" class="">常规版型</a>
                        <a href="" class="">宽松版型</a>
                        <a href="" class="">修身版型</a>
                        <a href="" class="">紧身版型</a>
                    </dd>
                </dl>
                <div class="more_select">
                    <p  class="more_select_click moreban">更多选项<span></span></p>
                    <p  class="more_select_click jjban">精简选项<span></span></p>
                </div>
            </div>
        </div>
    </div>
    <div class="proListbox">
        <div class="proList">
            <!-- 商品列表头部分类栏开始 -->
            <div class="top_proList">
                <div class="sort">
                    <a href="javascript:;">综合排序</a>
                    <a href="javascript:;">销售</a>
                    <a href="javascript:;">价格</a>
                </div>
                <div class="serve">
                    <input type="checkbox" disabled>送券
                    <input type="checkbox" disabled>赠品
                    <input type="checkbox" disabled>免邮
                    <input type="checkbox" disabled>搭配
                    <input type="checkbox" disabled>领券
                    <input type="checkbox" disabled>减价
                </div>
                <div class="search">
                    <input type="text" placeholder="在结果中搜索" id="serach_text">
                    <input type="button" value="确认" id="serach_btn">
                </div>
                <div class="skipBox">
                    <b><span class="yeNum">1</span> / <span class="yeSum">62</span></b>
                    <i id="skip_left"></i>
                    <i id="skip_right"></i>
                </div>
            </div>
            <!-- 商品列表头部分类栏结束 -->

            <!-- 商品列表开始 -->
            <div class="productListBox">
                    <div class="productList">
                        <ul class="proLis">
                            <!-- 动态获取 -->
                        </ul>
                    </div>
                </div>
            <!-- 商品列表结束 -->

            <!-- 商品列表底部分页栏开始 -->
            <div class="bottom_proList">
                    <div class="box">
                        <div id="pagination1" class="page fl"></div>
                    </div>
            </div>
            <!-- 商品列表底部分页栏结束 -->
        </div>
    </div>
    <div id="publicBottomBox">
        <!-- 引入尾部文件 -->
    </div>
</body>
</html>
<script src="js/jquery-3.1.1.min.js"></script>
<script src="js/jquery.min.js"></script>
<script src="js/jquery.pagination.min.js"></script>
<script src="js/proList.js"></script>
<script src="js/cookie.js"></script>
<script>
    $(function(){
        $("#publicBox").load("publicTop.html");
        $("#publicBottomBox").load("publicBottom.html");
    });

    	getCookie("selectPro");

	///
	$.ajax({
    type:"get",
    url:"php/getGoodsList.php",
    async:true,
    data:null,
    success:function(data){
        // console.log(data);
        var productlist = '';
        var titles = '';
        for(var i=0;i<data.length;i++){
            if(data[i].goodsType == getCookie("selectPro") || data[i].goodsName == getCookie("selectPro")){
                productlist+="<li>\
                            <div class='ulLiBox'>\
                                <a href='javascript:;' class='imgBox pros'>\
                                    <img class='bigloveimg' src='"+data[i].goodsImg+"' alt=''>\
                                    <span class='proId' style='display:none;'>"+data[i].goodsId+"</span>\
                                    </a>\
                                <div class='minimgBox pros'>\
                                        <span class='proId' style='display:none;'>"+data[i].goodsId+"</span>\
                                        <a class='minleft' href='javascript:;'><img src='img/feel3.png' alt=''></a>\
                                        <div class='minbox'>\
                                            <ul class='imgUls imgUlsBox'>\
                                                <li>\
                                                    <a href='javascript:;'><img src='"+data[i].beiyong5+"' alt=''></a>\
                                                </li>\
                                                <li>\
                                                    <a href='javascript:;'><img src='"+data[i].goodsImg+"' alt=''></a>\
                                                </li>\
                                                <li>\
                                                    <a href='javascript:;'><img src='"+data[i].beiyong6+"' alt=''></a>\
                                                </li>\
                                                <li>\
                                                    <a href='javascript:;'><img src='"+data[i].beiyong7+"' alt=''></a>\
                                                </li>\
                                                <li>\
                                                    <a href='javascript:;'><img src='"+data[i].beiyong8+"' alt=''></a>\
                                                </li>\
                                                <li>\
                                                    <a href='javascript:;'><img src='"+data[i].beiyong9+"' alt=''></a>\
                                                </li>\
                                                <li>\
                                                    <a href='javascript:;'><img src='"+data[i].beiyong10+"' alt=''></a>\
                                                </li>\
                                            </ul>\
                                        </div>\
                                        <a class='minright' href='javascript:;'><img src='img/feel4.png' alt=''></a>\
                                </div>\
                                <h3 class='produ_info'>"+data[i].goodsName+"</h3>\
                                <p class='pro_price'>￥<span class='prode_price'>"+data[i].goodsPrice+"</span></p>\
                                <div class='pro_buy'>\
                                    <a href='javascript:;' class='atOnce'><i></i>立即购买</a>\
                                    <a href='javascript:;' class='textChange'>加入购物车<i></i></a>\
                                </div>\
                                <div class='collect_JoinCar'>\
                                    <h4>颜色：<span class='showColor'></span></h4>\
                                    <div class='minbox'>\
                                        <ul class='imgUls colorBoxs'>\
                                            <li>\
                                                <a href='javascript:;'><img class='showimgs' src='"+data[i].beiyong5+"' alt='' title='"+data[i].beiyong11+"'></a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;'><img class='showimgs' src='"+data[i].goodsImg+"' alt='' title='"+data[i].beiyong12+"'></a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;'><img class='showimgs' src='"+data[i].beiyong6+"' alt='' title='"+data[i].beiyong13+"'></a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;'><img class='showimgs' src='"+data[i].beiyong7+"' alt='' title='"+data[i].beiyong14+"'></a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;'><img class='showimgs' src='"+data[i].beiyong8+"' alt='' title='"+data[i].beiyong15+"'></a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;'><img class='showimgs' src='"+data[i].beiyong9+"' alt='' title='"+data[i].beiyong16+"'></a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;'><img class='showimgs' src='"+data[i].beiyong10+"' alt='' title='"+data[i].beiyong17+"'></a>\
                                            </li>\
                                        </ul>\
                                    </div>\
                                    <h4>尺码：<span class='showSize'></span></h4>\
                                    <div class='minbox'>\
                                        <ul class='imgUls sizeBox'>\
                                            <li>\
                                                <a href='javascript:;' class='sizes'>"+data[i].beiyong27+"</a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;' class='sizes'>"+data[i].beiyong28+"</a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;' class='sizes'>"+data[i].beiyong29+"</a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;' class='sizes'>"+data[i].beiyong30+"</a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;' class='sizes'>"+data[i].beiyong31+"</a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;' class='sizes'>"+data[i].beiyong32+"</a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;' class='sizes'>"+data[i].beiyong33+"</a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;' class='sizes'>"+data[i].beiyong34+"</a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;' class='sizes'>"+data[i].beiyong35+"</a>\
                                            </li>\
                                            <li>\
                                                <a href='javascript:;' class='sizes'>"+data[i].beiyong36+"</a>\
                                            </li>\
                                        </ul>\
                                    </div>\
                                    <p>\
                                        <span class='abolish'>取消</span>\
                                        <span class='nuw_buy'>立即购买</span>\
                                    </p>\
                                </div>\
                            </div>\
                        </li>";
                $(".proLis").html(productlist);
                $("head title").html(data[i].goodsType);


            //循环去除
            //循环去除：
            $(".imgUls li").each(function(){
                let imgValue = $(this).find("img").attr("src");
                if(imgValue == 0){
                    $(this).remove();
                }
            });

            $(".colorBoxs li").each(function(){
                let imgValue = $(this).find("img").attr("src");
                if(imgValue == 0){
                    $(this).remove();
                }
            });

            $(".sizeBox li").each(function(){
                let imgValue = $(this).find("a").html();
                if(imgValue == 0){
                    $(this).remove();
                }
            });
            proLists();
            }
        }


			$(".proLis li").each(function(){
				$(this).find(".pros").click(function(){
					var proIds = $(this).find(".proId").html();

//					setCookie("proXq",proIds,-1);
					setCookie("proXq",proIds,1);
					window.open("detail.html");
				});
			});
    },
    dataType:"json"
});

function proLists(){
    //商品列表展示区
    let proLis = $(".proLis")[0].children;
    let minleft = $(".minleft");
    let minright = $(".minright");
    for(let i=0;i<proLis.length;i++){
        let oo = document.getElementsByClassName("bigloveimg")[i].src;
        let proleft = 0;

        let imgUlsBox = $(".imgUlsBox")[i].children;
        for(let n=0,len=imgUlsBox.length;n<len;n++){
            $(".imgUlsBox")[i].style.width = (len*36) +"px";
            //增加判断   当小图个数大于6时 显示左右箭头
                if(len-6 > 0){
                minleft[i].onclick = function(){
                    proleft = proleft - 35;
                    if($(".imgUlsBox")[i].offsetLeft<=0){
                        $(".imgUlsBox")[i].style.cssText = "left:" +proleft +"px;";
                        let syu = (len-6)*35;
                        $(".imgUlsBox")[i].style.cssText = "left:-"+syu+"px;";
                    }
                }
                minright[i].onclick = function(){
                    proleft = proleft + 35;
                    $(".imgUlsBox")[i].style.cssText = "left:" +proleft +"px;";
                    if($(".imgUlsBox")[i].offsetLeft>=0){
                        $(".imgUlsBox")[i].style.cssText = "left:0px;";
                    }
                }
            }else{
                minleft[i].style.cssText = "display:none";
                minright[i].style.cssText = "display:none";
            }
            //通过小图查看相应大图
            imgUlsBox[n].onmouseenter = function(){
                let aa = $(this).find("img").attr("src");
                document.getElementsByClassName("bigloveimg")[i].src=aa;
            }
            imgUlsBox[n].onmouseleave = function(){
                let aa = $(this).find("img").attr("src");
                document.getElementsByClassName("bigloveimg")[i].src=oo;
            }
        }




        proLis[i].onmouseenter = function(){
            //改变大盒子样式
            $(".ulLiBox")[i].style.cssText = "margin-left:3px;z-index:9;top:-10px;border:1px solid #e9e9e9;box-shadow:0 0 2px 3px #ddd";
            //改变小图盒子的样式
            $(".minimgBox")[i].style.cssText="height:32px;overflow:hidden";
            //立即购买  效果
            $(".pro_buy")[i].style.cssText="height:32px;overflow:hidden";
            //点击立即购买   弹出效果
            $(".atOnce")[i].onclick = function(){
                $(".collect_JoinCar")[i].style.cssText = "display:block;z-index:999;"
                //商品列表遮罩层处效果  图片颜色
                let colorBoxs =$(".colorBoxs")[i].children;
                for(let m = 0;m<colorBoxs.length;m++){
                    //图片颜色
                    colorBoxs[m].onclick = function(){
                        let bb = $(this).parents("li").find(".showimgs");
                        let dd = bb[m].title
                        $(".showColor").html(dd);
                        for(j=0;j<colorBoxs.length;j++){
                            colorBoxs[j].style.cssText = "border:1px solid #ddd;"
                        }
                        colorBoxs[m].style.cssText = "border:1px solid red;"
                    }
                }

                 //商品列表遮罩层处效果  尺码大小
                let sizeBox = $(".sizeBox")[i].children;
                for(let m = 0;m<sizeBox.length;m++){
                    //尺码大小
                    sizeBox[m].onclick = function(){
                        let xx = $(this).parents("li").find(".sizes");
                        let cc = xx[m].innerHTML;
                        $(".showSize").html(cc);
                        for(let j=0;j<sizeBox.length;j++){
                            sizeBox[j].style.cssText = "border:1px solid #ddd;"
                        }
                        this.style.cssText = "border:1px solid red;"
                    }
                }
            }
            //点击加入购物车   弹出效果
            $(".textChange")[i].onclick = function(){
                $(".collect_JoinCar")[i].style.cssText = "display:block;z-index:999;"
            }



            //点击遮罩层上的取消   触发消失按钮效果
            $(".abolish")[i].onclick = function(){
                $(".collect_JoinCar")[i].style.cssText = "display:none;"
            }

        }
        proLis[i].onmouseleave = function(){
            $(".ulLiBox")[i].style.cssText = "z-index:8;top: 0;";
            // $(".minimgBox")[i].style.cssText="height:0px;overflow:hidden"; //隐藏小图图片列表
            $(".pro_buy")[i].style.cssText="height:0px;overflow:hidden";
            // $(".ProshowMinLayer")[i].style.cssText = "display:none;"; //遮罩层效果
            $(this).find(".textChange").css({"color":"black"});

            $(".collect_JoinCar")[i].style.cssText = "display:none;";

            //清空颜色  尺码的值
            $(".colorBoxs li").css({"border":"1px solid #ddd"})
            $(".sizeBox li").css({"border":"1px solid #ddd"})
            $(".showColor").html("");
            $(".showSize").html("");
        }
    }
}

// $.ajax({
//     type:"get",
//     url:"php/addShoppingCart.php",
//     async:true,
//     data:null,
//     success:function(){

//     },
//     dataType:"json"
// });






</script>
